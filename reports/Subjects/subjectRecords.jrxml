<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="SubjectsList" pageWidth="612" pageHeight="792" columnWidth="532" leftMargin="40" rightMargin="40" topMargin="50" bottomMargin="18" isTitleNewPage="true">
	<property name="reportTitle" value="Subject(s) and linked accession(s), digital object(s) and resource(s)"/>
	<property name="reportDescription" value="Displays subject(s) and any linked accession(s), digital object(s), and resource(s). Report contains sort subject term, type, source and any resource records, accession records, and digital object records linked to that subject."/>
	<property name="ireport.scriptlethandling" value="0"/>
	<property name="ireport.encoding" value="UTF-8"/>
	<import value="net.sf.jasperreports.engine.*"/>
	<import value="java.util.*"/>
	<import value="net.sf.jasperreports.engine.data.*"/>
	<parameter name="ReportHeader" class="java.lang.String" isForPrompting="false"/>
	<parameter name="basePath" class="java.lang.String"/>
	<field name="subjectTerm" class="java.lang.String"/>
	<field name="subjectTermType" class="java.lang.String"/>
	<field name="subjectSource" class="java.lang.String"/>
	<field name="resources" class="java.util.Set"/>
	<field name="accessions" class="java.util.Set"/>
	<field name="digitalObjects" class="java.util.Set"/>
	<variable name="subjectsResourcesDataSource" class="net.sf.jasperreports.engine.data.JRBeanCollectionDataSource">
		<variableExpression><![CDATA[new JRBeanCollectionDataSource(new ArrayList($F{resources}))]]></variableExpression>
	</variable>
	<variable name="subjectsAccessionsDataSource" class="net.sf.jasperreports.engine.data.JRBeanCollectionDataSource">
		<variableExpression><![CDATA[new JRBeanCollectionDataSource(new ArrayList($F{accessions}))]]></variableExpression>
	</variable>
	<variable name="digitalObjectDataSource" class="net.sf.jasperreports.engine.data.JRBeanCollectionDataSource">
		<variableExpression><![CDATA[new JRBeanCollectionDataSource(new ArrayList($F{digitalObjects}))]]></variableExpression>
	</variable>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="175" splitType="Stretch">
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
				<reportElement key="textField-5" mode="Transparent" x="10" y="91" width="513" height="76" isPrintWhenDetailOverflows="true" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top" rotation="None" lineSpacing="Single">
					<font fontName="Arial" size="20" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="Helvetica-Bold" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$P{ReportHeader}.equals("") ? "Subject Guide: Linked Accessions, Digital Objects, and Resources" : $P{ReportHeader}]]></textFieldExpression>
			</textField>
		</band>
	</title>
	<pageHeader>
		<band splitType="Stretch"/>
	</pageHeader>
	<columnHeader>
		<band splitType="Stretch"/>
	</columnHeader>
	<detail>
		<band height="77" splitType="Prevent">
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
				<reportElement key="textField-1" positionType="Float" mode="Transparent" x="0" y="10" width="523" height="19" isPrintWhenDetailOverflows="true" forecolor="#000000" backcolor="#FFFFFF"/>
				<box topPadding="4" leftPadding="4" bottomPadding="4" rightPadding="4">
					<pen lineColor="#666666"/>
					<topPen lineWidth="1.5" lineStyle="Solid" lineColor="#666666"/>
					<leftPen lineWidth="1.5" lineStyle="Solid" lineColor="#666666"/>
					<bottomPen lineWidth="1.5" lineStyle="Solid" lineColor="#666666"/>
					<rightPen lineWidth="1.5" lineStyle="Solid" lineColor="#666666"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top" rotation="None" lineSpacing="Single">
					<font fontName="Arial" size="12" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="Helvetica" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{subjectTerm}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
				<reportElement key="textField" mode="Transparent" x="67" y="35" width="132" height="15" isRemoveLineWhenBlank="true" isPrintWhenDetailOverflows="true" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top" rotation="None" lineSpacing="Single">
					<font fontName="Arial" size="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="Helvetica" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{subjectTermType}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="false">
				<reportElement key="textField" x="260" y="35" width="263" height="15" isRemoveLineWhenBlank="true" isPrintWhenDetailOverflows="true" forecolor="#000000"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font fontName="Arial" size="10" isBold="false"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{subjectSource}]]></textFieldExpression>
			</textField>
			<subreport isUsingCache="true" runToBottom="false">
				<reportElement key="subreport-1" positionType="Float" mode="Opaque" x="10" y="69" width="513" height="5" isRemoveLineWhenBlank="true" forecolor="#000000" backcolor="#FFFFFF"/>
				<dataSourceExpression><![CDATA[$V{subjectsResourcesDataSource}]]></dataSourceExpression>
				<subreportExpression class="java.lang.String"><![CDATA[$P{basePath} + "/sub_subjectsResources.jasper"]]></subreportExpression>
			</subreport>
			<subreport isUsingCache="true" runToBottom="false">
				<reportElement key="subreport-2" positionType="Float" mode="Opaque" x="10" y="57" width="513" height="5" isRemoveLineWhenBlank="true" forecolor="#000000" backcolor="#FFFFFF"/>
				<dataSourceExpression><![CDATA[$V{subjectsAccessionsDataSource}]]></dataSourceExpression>
				<subreportExpression class="java.lang.String"><![CDATA[$P{basePath} + "/sub_subjectsAccessions.jasper"]]></subreportExpression>
			</subreport>
			<subreport isUsingCache="true" runToBottom="false">
				<reportElement key="subreport-2" positionType="Float" mode="Opaque" x="10" y="63" width="513" height="5" isRemoveLineWhenBlank="true" forecolor="#000000" backcolor="#FFFFFF"/>
				<dataSourceExpression><![CDATA[$V{digitalObjectDataSource}]]></dataSourceExpression>
				<subreportExpression class="java.lang.String"><![CDATA[$P{basePath} + "/sub_subjectsDigitalObjects.jasper"]]></subreportExpression>
			</subreport>
			<staticText>
				<reportElement key="staticText" mode="Transparent" x="3" y="35" width="61" height="15" isPrintWhenDetailOverflows="true" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top" rotation="None" lineSpacing="Single">
					<font fontName="Arial" size="10" isBold="true" isItalic="false" isUnderline="true" isStrikeThrough="false" pdfFontName="Helvetica-Bold" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<text><![CDATA[Term Type:]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText-2" mode="Transparent" x="215" y="35" width="45" height="15" isPrintWhenDetailOverflows="true" forecolor="#000000" backcolor="#FFFFFF">
					<printWhenExpression><![CDATA[$F{subjectSource}.equals("") ? Boolean.FALSE : Boolean.TRUE]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top" rotation="None" lineSpacing="Single">
					<font fontName="Arial" size="10" isBold="true" isItalic="false" isUnderline="true" isStrikeThrough="false" pdfFontName="Helvetica-Bold" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<text><![CDATA[Source:]]></text>
			</staticText>
		</band>
	</detail>
	<columnFooter>
		<band splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band height="46" splitType="Stretch">
			<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
				<reportElement key="textField-4" mode="Transparent" x="0" y="12" width="527" height="15" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top" rotation="None" lineSpacing="Single">
					<font fontName="Arial" size="10" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="Helvetica-Bold" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$P{ReportHeader}.equals("") ? "Subject Guide: Linked Accessions, Digital Objects, and Resources"  : $P{ReportHeader}]]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="0" y="5" width="533" height="1"/>
			</line>
			<textField pattern="" isBlankWhenNull="true">
				<reportElement key="textField-2" positionType="Float" mode="Transparent" x="420" y="29" width="69" height="15" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Top" rotation="None" lineSpacing="Single">
					<font fontName="Arial" size="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="Helvetica" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["Page " + String.valueOf($V{PAGE_NUMBER})]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report" pattern="" isBlankWhenNull="true">
				<reportElement key="textField-3" positionType="Float" mode="Transparent" x="503" y="29" width="26" height="15" forecolor="#000000" backcolor="#FFFFFF"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left" verticalAlignment="Top" rotation="None" lineSpacing="Single">
					<font fontName="Arial" size="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="Helvetica" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[String.valueOf($V{PAGE_NUMBER})]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report" pattern="MMMMM dd, yyyy" isBlankWhenNull="false">
				<reportElement key="textField-6" positionType="Float" x="0" y="29" width="199" height="15" forecolor="#000000"/>
				<textElement>
					<font fontName="Arial" isItalic="false"/>
				</textElement>
				<textFieldExpression class="java.util.Date"><![CDATA[new java.util.Date()]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="489" y="29" width="14" height="15"/>
				<textElement textAlignment="Center">
					<font fontName="Arial"/>
				</textElement>
				<text><![CDATA[of]]></text>
			</staticText>
		</band>
	</pageFooter>
	<summary>
		<band splitType="Stretch"/>
	</summary>
</jasperReport>
